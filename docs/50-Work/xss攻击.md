## 前端安全

### xss攻击（跨站脚本攻击）

> 什么是xss

xss是一种代码注入攻击。在目标网页上注入恶意的脚本，使之在用户的浏览器上运行，利用这些脚本可以轻易的获取用户的cookie id 账号密码等，进而危害数据安全。

XSS 的本质是：恶意代码未经过滤，与网站正常的代码混在一起；浏览器无法分辨哪些脚本是可信的，导致恶意脚本被执行。	

**例： 攻击者在input输入框中输入一串js代码，浏览器会执行这一段js代码**

> 如何预防xss攻击

1. 输入过滤： 只允许输入指定的数据类型，例如银行的密码键盘，只允许输入数字

2. 输入内容长度限制

3. 验证码

4. HTTP-only Cookie: 禁止 JavaScript 读取某些敏感 Cookie，攻击者完成 XSS 注入后也无法窃取此 Cookie。

### csrf攻击（跨站请求伪造）

> 什么是csrf

攻击者诱导受害者进入第三方网站，在第三方网站中，向被攻击网站发送跨站请求。利用受害者在被攻击网站已经获取的注册凭证，绕过后台的用户验证，达到冒充用户对被攻击的网站执行某项操作的目的

**例： 淘宝钓鱼网站，当受害者点击钓鱼链接后就获取受害者的注册凭证，进而危害资金安全**

CSRF的特点：

攻击一般发起在第三方网站，而不是被攻击的网站。被攻击的网站无法防止攻击发生。
攻击利用受害者在被攻击网站的登录凭证，冒充受害者提交操作；而不是直接窃取数据。
整个过程攻击者并不能获取到受害者的登录凭证，仅仅是“冒用”。
跨站请求可以用各种方式：图片URL、超链接、CORS、Form提交等等。部分请求方式可以直接嵌入在第三方论坛、文章中，难以进行追踪。

> 如何预防csrf攻击

1. 阻止不明域的访问： 同源检测 

2. 提交时要求附加本域才能获取的信息 ： 双重cookie验证， Token令牌验证

3. ajax请求头中带上Token